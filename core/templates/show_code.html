{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Code â€“ SuperShare</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>

<div class="bg-animation">
    <div class="neural-network"></div>
    <div class="particles"></div>
</div>

<section class="hero">
    <div class="hero-content">
        <h1>Your Code</h1>
        <p>Share this with your receiver</p>

        <!-- CODE VIEW -->
        <div class="code-box" id="codeBox">
            <span id="codeText">{{ code }}</span>
        </div>

        <!-- QR VIEW -->
        <div class="code-box hidden" id="qrBox">
            <canvas id="qrCanvas"></canvas>
        </div>

        <div class="timer-row">
            <span id="timer" class="timer">Expires in 05:00</span>
            <button id="reloadBtn" class="reload-btn">
                <svg viewBox="0 0 24 24">
                    <path d="M21 12a9 9 0 1 1-2.64-6.36" fill="none" stroke="currentColor" stroke-width="2"/>
                    <polyline points="21 3 21 9 15 9" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>


        <div class="progress-container">
            <div id="progress" class="progress-bar"></div>
        </div>

        <div class="code-actions">
            <button id="qrBtn" class="btn btn-secondary">QR</button>
            <a href="/" id="homeBtn" class="btn btn-secondary">Home</a>
            <button id="backBtn" class="btn btn-secondary hidden">Back</button>
        </div>

    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="{% static 'js/show_code.js' %}"></script>

</body>
</html>
